(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{25:function(t,e,a){},27:function(t,e,a){},36:function(t,e,a){},41:function(t,e,a){"use strict";a.r(e);var s=a(1),i=a.n(s),c=a(11),n=a.n(c),l=(a(25),a(6)),o=a(7),d=a(9),r=a(8),h=(a(26),a(27),a(28),a(32),a(33),a(34),a(35),a(36),a(0)),p=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"left-nav",children:Object(h.jsxs)("div",{className:"left-nav-item",children:[Object(h.jsx)("div",{onClick:function(){return t.props.switchPage("ApplicationPage")},children:Object(h.jsx)("i",{className:"fas fa-columns left-nav-icon"})}),Object(h.jsx)("div",{onClick:function(){return t.props.switchPage("SearchPage")},children:Object(h.jsx)("i",{className:"fas fa-search left-nav-icon"})})]})})}}]),a}(s.Component),u=a(13),j=[{class:"1",state:"Wish list",wordOfDate:"Apply By"},{class:"2",state:"Waiting for referral",wordOfDate:"Referral before "},{class:"3",state:"Applied",wordOfDate:"Applied Date"},{class:"4",state:"Rejected",wordOfDate:"Applied Date"}],b=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={showEditModal:t.showEditModal},s}return Object(o.a)(a,[{key:"stopPropagation",value:function(t){t.stopPropagation()}},{key:"render",value:function(){var t=this,e=j.find((function(e){return e.class===t.props.application.status}));return Object(h.jsx)("div",{className:"card card-col",onClick:this.state.showEditModal,children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("div",{className:"card-action",children:Object(h.jsx)("h6",{className:"card-title",onClick:this.stopPropagation,children:this.props.application.jobTitle})}),Object(h.jsxs)("p",{className:"small-content-text",children:[this.props.application.companyName,Object(h.jsx)("br",{}),e.wordOfDate,": ",this.props.application.date]},this.props.application.companyName)]})},this.state.id+"_card")}}]),a}(s.Component),m=a(14),O=a(43),v=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={closeEditModal:t.closeEditModal,deleteApplication:t.deleteApplication,submitFunc:t.submitFunc,id:t.application.id,jobTitle:t.application.jobTitle,companyName:t.application.companyName,date:t.application.date,class:t.application.status},s}return Object(o.a)(a,[{key:"handleChange",value:function(t){this.setState(Object(m.a)({},t.target.id,t.target.value))}},{key:"submitAction",value:function(){console.log("hit!"),this.state.closeEditModal();var t={id:this.state.id,companyName:this.state.companyName,jobTitle:this.state.jobTitle,date:this.state.date,status:this.state.class};console.log(t),this.state.submitFunc(t)}},{key:"deleteAction",value:function(){this.state.closeEditModal();var t={id:this.state.id,companyName:this.state.companyName,jobTitle:this.state.jobTitle,date:this.state.date,status:this.state.class};this.state.deleteApplication(t)}},{key:"render",value:function(){var t=null;return t="update"===this.props.mode?Object(h.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.submitAction.bind(this),children:"Update"}):Object(h.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.submitAction.bind(this),children:"Create"}),this.props.application?Object(h.jsx)("div",{children:Object(h.jsxs)(O.a,{show:this.props.show,onHide:this.state.closeEditModal,children:[Object(h.jsx)(O.a.Header,{closeButton:!0,children:Object(h.jsx)(O.a.Title,{children:this.props.application.companyName})}),Object(h.jsxs)(O.a.Body,{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"companyName",className:"col-form-label",children:"Company Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"companyName",value:this.state.companyName,onChange:this.handleChange.bind(this)})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"job_title",className:"col-form-label",children:"Job Title"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"jobTitle",value:this.state.jobTitle,onChange:this.handleChange.bind(this)})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"date",className:"col-form-label",children:"Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",id:"date",value:this.state.date,onChange:this.handleChange.bind(this)})]}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("div",{className:"input-group-prepend",children:Object(h.jsx)("label",{className:"input-group-text",htmlFor:"class",children:"Application Type"})}),Object(h.jsxs)("select",{className:"custom-select",id:"class",value:this.state.class,onChange:this.handleChange.bind(this),children:[Object(h.jsx)("option",{children:"Choose..."}),Object(h.jsx)("option",{value:"1",children:"Wish list"}),Object(h.jsx)("option",{value:"2",children:"Waiting Referral"}),Object(h.jsx)("option",{value:"3",children:"Applied"}),Object(h.jsx)("option",{value:"4",children:"Rejected"})]})]})]}),Object(h.jsxs)(O.a.Footer,{children:[Object(h.jsx)("button",{type:"button",className:"btn btn-danger mr-auto",onClick:this.deleteAction.bind(this),children:"Delete"}),Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.state.closeEditModal,children:"Close"}),t]})]})}):Object(h.jsx)("div",{})}}]),a}(s.Component),x=a(12),f=a.n(x),y=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={applications:[],card_titles:[],card_class:[],showModal:!1},s.getData=s.getData.bind(Object(u.a)(s)),s.groupApplication=s.groupApplication.bind(Object(u.a)(s)),s.createCardTitle=s.createCardTitle.bind(Object(u.a)(s)),s.createCardClass=s.createCardClass.bind(Object(u.a)(s)),s}return Object(o.a)(a,[{key:"getData",value:function(){return f.a.ajax({url:"http://localhost:5000/application",method:"GET"})}},{key:"componentDidMount",value:function(){var t=this;this.getData().done((function(e){e=JSON.parse(e);var a=t.groupApplication(e),s=t.createCardTitle(a),i=t.createCardClass(a);t.setState({applications:e,card_titles:s,card_class:i})}))}},{key:"renderPage",value:function(t){var e=this.groupApplication(t),a=this.createCardTitle(e),s=this.createCardClass(e);this.setState({applications:t,card_titles:a,card_class:s,showModal:!1,application:null})}},{key:"updateCardBoard",value:function(t){var e=this.state.applications;null==t.id?(console.log("new application"),f.a.ajax({url:"http://localhost:5000/application",method:"POST",async:!1,data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)},complete:function(t){e.push(t.responseJSON)}})):(console.log("updating id="+t.id),f.a.ajax({url:"http://localhost:5000/application",method:"PUT",async:!1,data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)},complete:function(t){var a=t.responseJSON,s=e.findIndex((function(t){return t.id===a.id}));e[s]=a}})),this.renderPage(e)}},{key:"deleteApplication",value:function(t){var e=this.state.applications;console.log("deleting id="+t.id),f.a.ajax({url:"http://localhost:5000/application",method:"DELETE",async:!1,data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)},complete:function(t){var a=e.indexOf(t.responseJSON);e.splice(a,1)}}),this.renderPage(e)}},{key:"showEditModal",value:function(t,e){var a=e;this.setState({showModal:!0,application:t,modalMode:a})}},{key:"closeEditModal",value:function(){this.setState({showModal:!1,application:null})}},{key:"createCardClass",value:function(t){var e=this;return t.reduce((function(t,a){var s=Object(h.jsxs)("div",{className:"col",id:a.title+"_class",children:[a.applications.reduce((function(t,a){var s=Object(h.jsx)(b,{application:a,showEditModal:e.showEditModal.bind(e,a,"update")},a.id);return t.push(s),t}),[]),Object(h.jsx)("div",{className:"card card-col",children:Object(h.jsx)("div",{className:"card-body new-col",onClick:e.showEditModal.bind(e,{class:a.class},"create"),children:Object(h.jsx)("i",{className:"fas fa-plus text-center"})})})]},a.title+"_class");return t.push(s),t}),[])}},{key:"createCardTitle",value:function(t){return t.reduce((function(t,e){var a=Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("div",{className:"card card-col",children:Object(h.jsx)("div",{className:"card-body noPadding",children:Object(h.jsx)("div",{type:"text",className:"text-center title-col form-control-lg",children:e.title})})})},e.title+"_title");return t.push(a),t}),[])}},{key:"groupApplication",value:function(t){var e=[{title:"Wish list",applications:[],class:"1"},{title:"Waiting for referral",applications:[],class:"2"},{title:"Applied",applications:[],class:"3"},{title:"Rejected",applications:[],class:"4"}];return null===t||void 0===t||t.forEach((function(t){var a=e.find((function(e){return e.class===t.status}));null===a||void 0===a||a.applications.push(t)})),e}},{key:"render",value:function(){var t=null;return this.state.application&&(t=Object(h.jsx)(v,{show:this.state.showModal,submitFunc:this.updateCardBoard.bind(this),mode:this.state.modalMode,application:this.state.application,closeEditModal:this.closeEditModal.bind(this),deleteApplication:this.deleteApplication.bind(this)})),Object(h.jsxs)("span",{id:"tab",children:[Object(h.jsx)("div",{className:"row",children:this.state.card_titles}),Object(h.jsx)("div",{className:"row",children:this.state.card_class}),t]})}}]),a}(s.Component),N=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={handleCloseEditModal:t.handleCloseEditModal,deleteApplication:t.deleteApplication,submitFunc:t.submitFunc,id:t.application.id,jobTitle:t.application.jobTitle,companyName:t.application.companyName,date:t.application.date,class:"1"},s}return Object(o.a)(a,[{key:"handleChange",value:function(t){this.setState(Object(m.a)({},t.target.id,t.target.value))}},{key:"submitAction",value:function(){console.log("hit!"),this.state.handleCloseEditModal();var t={id:this.state.id,companyName:this.state.companyName,jobTitle:this.state.jobTitle,date:this.state.date,status:this.state.class};console.log(t),this.state.submitFunc(t)}},{key:"render",value:function(){var t=Object(h.jsx)("button",{type:"button",className:"btn btn-success",onClick:this.submitAction.bind(this),children:"Create"});return this.props.application?Object(h.jsx)("div",{children:Object(h.jsxs)(O.a,{show:this.props.show,onHide:this.state.handleCloseEditModal,children:[Object(h.jsx)(O.a.Header,{closeButton:!0,children:Object(h.jsx)(O.a.Title,{children:"Add New Job"})}),Object(h.jsxs)(O.a.Body,{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"companyName",className:"col-form-label",children:"Company Name"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"companyName",value:this.state.companyName,onChange:this.handleChange.bind(this)})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"job_title",className:"col-form-label",children:"Job Title"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"jobTitle",value:this.state.jobTitle,onChange:this.handleChange.bind(this)})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"date",className:"col-form-label",children:"Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",id:"date",value:this.state.date,onChange:this.handleChange.bind(this)})]}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("div",{className:"input-group-prepend",children:Object(h.jsx)("label",{className:"input-group-text",htmlFor:"class",children:"Application Type"})}),Object(h.jsxs)("select",{className:"custom-select",id:"class",value:this.state.class,onChange:this.handleChange.bind(this),children:[Object(h.jsx)("option",{children:"Choose..."}),Object(h.jsx)("option",{value:"1",children:"Wish list"}),Object(h.jsx)("option",{value:"2",children:"Waiting Referral"}),Object(h.jsx)("option",{value:"3",children:"Applied"}),Object(h.jsx)("option",{value:"4",children:"Rejected"})]})]})]}),Object(h.jsxs)(O.a.Footer,{children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.state.handleCloseEditModal,children:"Close"}),t]})]})}):Object(h.jsx)("div",{})}}]),a}(s.Component),g=[{label:"Company Name",id:"companyName"},{label:"Job title",id:"jobTitle"},{label:"Date",id:"date"},{label:"",id:"func"}],C=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;return Object(l.a)(this,a),(s=e.call(this,t)).state={searchText:"",rows:[],addedList:[]},s}return Object(o.a)(a,[{key:"search",value:function(){var t=this;this.state.searchText?f.a.ajax({url:"http://localhost:5000/search",method:"get",data:{keywords:this.state.searchText},contentType:"application/json",success:function(e){var a=e.map((function(t,e){return{id:e,jobTitle:t.jobTitle,companyName:t.companyName,location:t.location}}));t.setState({rows:a})}}):window.alert("Search bar cannot be empty!!")}},{key:"deleteTheApplication",value:function(t){var e=this.state.rows.filter((function(e){return e.id!==t})),a=this.state.addedList.filter((function(e){return e.id!==t}));this.setState({rows:e,addedList:a})}},{key:"showEditModal",value:function(t,e){this.setState({showModal:!0,job:t,modalMode:e})}},{key:"handleCloseEditModal",value:function(){this.setState({showModal:!1,job:null})}},{key:"addToWaitlist",value:function(t){var e=this.state.addedList;e.push(t.id),console.log(t),f.a.ajax({url:"http://localhost:5000/application",method:"POST",data:JSON.stringify({application:t}),contentType:"application/json",success:function(t){console.log(t)}}),this.setState({addedList:e})}},{key:"removeFromWaitlist",value:function(t){var e=this.state.addedList.filter((function(e){return e!==t.id}));this.setState({addedList:e})}},{key:"handleChange",value:function(t){this.setState(Object(m.a)({},t.target.id,t.target.value))}},{key:"render",value:function(){var t=this,e=this.state.rows,a=null;return this.state.job&&(a=Object(h.jsx)(N,{show:this.state.showModal,submitFunc:this.addToWaitlist.bind(this),mode:this.state.modalMode,application:this.state.job,handleCloseEditModal:this.handleCloseEditModal.bind(this),deleteApplication:this.deleteTheApplication.bind(this)})),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-6 input-group mb-3",children:Object(h.jsx)("input",{type:"text",id:"searchText",className:"form-control",placeholder:"Keyword","aria-label":"Username","aria-describedby":"basic-addon1",value:this.state.searchText,onChange:this.handleChange.bind(this)})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:this.search.bind(this),children:"Search"})})]})}),Object(h.jsxs)("table",{className:"table",children:[Object(h.jsx)("thead",{children:Object(h.jsx)("tr",{children:g.map((function(t){return Object(h.jsx)("th",{children:t.label},t.id+"_th")}))})}),Object(h.jsx)("tbody",{children:e.map((function(e){return Object(h.jsx)("tr",{children:g.map((function(a){var s=e[a.id];if("func"!==a.id)return Object(h.jsx)("td",{children:s},a.id);var i=t.state.addedList.includes(e.id)?Object(h.jsx)("button",{type:"button",className:"btn btn-outline-secondary",onClick:t.removeFromWaitlist.bind(t,e),children:" Added "}):Object(h.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:t.showEditModal.bind(t,e),children:" Add "});return Object(h.jsx)("td",{children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-4",children:i}),"\xa0\xa0",Object(h.jsx)("div",{className:"col-md-2",children:Object(h.jsx)("button",{type:"button",style:{backgroundColor:"red"},className:"btn btn-secondary",onClick:t.deleteTheApplication.bind(t,e.id),children:" Delete "})})]})})},e.id+"_func")}))},e.id)}))})]}),a]})}}]),a}(s.Component),w=function(t){Object(d.a)(a,t);var e=Object(r.a)(a);function a(t){var s;Object(l.a)(this,a),s=e.call(this,t);var i={SearchPage:Object(h.jsx)(C,{}),ApplicationPage:Object(h.jsx)(y,{})};return s.state={currentPage:Object(h.jsx)(y,{}),mapRouter:i},s}return Object(o.a)(a,[{key:"switchPage",value:function(t){this.setState({currentPage:this.state.mapRouter[t]})}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"main-page",children:[Object(h.jsx)(p,{switchPage:this.switchPage.bind(this)}),Object(h.jsx)("div",{className:"main",children:Object(h.jsxs)("div",{className:"content",children:[Object(h.jsx)("h1",{className:"text-center",children:"My applications"}),Object(h.jsx)("div",{className:""}),this.state.currentPage]})})]})}}]),a}(i.a.Component),T=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,44)).then((function(e){var a=e.getCLS,s=e.getFID,i=e.getFCP,c=e.getLCP,n=e.getTTFB;a(t),s(t),i(t),c(t),n(t)}))};n.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root")),T()}},[[41,1,2]]]);
//# sourceMappingURL=main.a5d89d7a.chunk.js.map